<div class="arqueo">
  <form
    *ngIf="adminRole"
    class="arqueo__arqueo-formulario"
    [formGroup]="formulario"
    (ngSubmit)="enviarFormulario()"
  >
    <p class="arqueo__arqueo-titulo">Reporte</p>

    <div class="reporte__comprobantes-formulario-elemento">
      <mat-form-field appearance="fill">
        <mat-label>Rango de fecha</mat-label>
        <mat-date-range-input [formGroup]="formulario" [rangePicker]="picker">
          <input
            class="crear__comprobantes-formulario-input-fecha"
            matStartDate
            formControlName="start"
            placeholder="Desde"
          />
          <input
            class="crear__comprobantes-formulario-input-fecha"
            matEndDate
            formControlName="end"
            placeholder="Hasta"
          />
        </mat-date-range-input>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>
        <mat-error
          *ngIf="formulario.controls.start.hasError('matStartDateInvalid')"
          >Fecha inicial no valida</mat-error
        >
        <mat-error *ngIf="formulario.controls.end.hasError('matEndDateInvalid')"
          >Fecha final no valida</mat-error
        >
      </mat-form-field>
    </div>
    <button *ngIf="formulario.valid && !generandoPdf" class="arqueo__arqueo-btn" type="submit">
      Generar Reporte
    </button>

    <button
      class="crear__comprobantes-loading-btn"
      *ngIf="generandoPdf"
      type="button"
      [disabled]="true"
    >
      <i class="fas fa-spinner fa-pulse fa-2x"></i>
    </button>
  </form>
</div>

